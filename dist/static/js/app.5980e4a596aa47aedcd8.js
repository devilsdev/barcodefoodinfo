webpackJsonp([1],{0:function(t,e){},"7zck":function(t,e){},"93Jr":function(t,e){},"9MBs":function(t,e){},NHnr:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o("7+uW"),r=o("SGD2"),a=o.n(r),c={name:"scanner",data:function(){return{lastCode:""}},methods:{openQuagga:function(){var t=this;a.a.init({inputStream:{name:"Live",type:"LiveStream",target:document.querySelector("#scanner_video")},decoder:{readers:["code_128_reader","code_39_reader","i2of5_reader","upc_reader","ean_reader"]}},function(t){t?console.log(t):(console.log("Initialization finished. Ready to start"),a.a.start())}),a.a.onDetected(function(e){new Audio("https://www.soundjay.com/button/sounds/beep-06.mp3").play(),t.$emit("codeDetected",e.codeResult.code),a.a.stop()})}},mounted:function(){this.openQuagga()}},d={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"scanner"}},[e("div",{ref:"videoElement",attrs:{id:"scanner_video"}})])},staticRenderFns:[]};var s=o("VU/8")(c,d,!1,function(t){o("9MBs")},"data-v-0a993278",null).exports,i=o("mvHQ"),u=o.n(i),v={name:"product",props:["product"],methods:{close:function(){this.$emit("closeProductInfo",!1)},save:function(){localStorage.setItem(this.product.code,u()(this.product))}}},l={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"productInfo"}},[o("h3",{staticClass:"headline mb-0"},[t._v(t._s(t.product.product.product_name))]),t._v(" "),o("p",[t._v("Barcode: "+t._s(t.product.code)+"     \n    "),o("v-btn",{attrs:{flat:"",color:"error"},on:{click:t.close}},[t._v("Close")]),t._v(" "),o("v-btn",{attrs:{flat:"",color:"success"},on:{click:t.save}},[t._v("Save")])],1),t._v(" "),o("h4",{staticClass:"headline mb-0"},[t._v("Ingredients")]),t._v(" "),o("v-list",t._l(t.product.product.ingredients,function(e){return o("v-list-tile",{key:e.id},[t._v("\n      "+t._s(e.text)+"\n    ")])}))],1)},staticRenderFns:[]};var p=o("VU/8")(v,l,!1,function(t){o("93Jr")},"data-v-2e95a5b6",null).exports,f=o("fZjL"),h=o.n(f),_={name:"savedproductlist",data:function(){return{storedProducts:[]}},created:function(){this.getStoredProducts(),console.log(this.storedProducts)},methods:{getStoredProducts:function(){for(var t=h()(localStorage),e=t.length;e--;)"loglevel:webpack-dev-server"!==t[e]&&this.storedProducts.push(JSON.parse(localStorage.getItem(t[e])))}}},g={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"productInfo"}},[o("h3",{staticClass:"headline mb-0"},[t._v("Saved Products")]),t._v(" "),o("v-list",t._l(t.storedProducts,function(e){return o("v-list-tile",{key:e.code},[t._v("\n      "+t._s(e.product.product_name)+"\n    ")])}))],1)},staticRenderFns:[]};var m=o("VU/8")(_,g,!1,function(t){o("Vu4/")},"data-v-63da7de4",null).exports,b=o("mtWM"),S=o.n(b),P={name:"app",data:function(){return{currentCode:"No Barcode",product:{},isScanning:!1,productFound:!1,hasError:!1,productNotFound:!1,debugMode:!1,alterNativeInput:"",debugActivated:!1,debugDeactivated:!1,showSavedProducts:!1}},components:{scanner:s,product:p,savedproductlist:m},methods:{checkForCamera:function(){var t=this;navigator.getUserMedia({video:!0},function(){return t.isScanning=!0},function(){return t.showCameraError()})},handleDetectedCode:function(t){this.currentCode=t,this.isScanning=!1,this.getProductInfo(t)},getProductInfo:function(t){var e=this;this.resetProductInfo();var o="https://world.openfoodfacts.org/api/v0/product/"+t+".json";S.a.get(o).then(function(t){console.log(t),0!==t.data.status?e.foundProduct(t):e.showProductError()}).catch(function(t){console.log(t)})},resetProductInfo:function(){this.hasFoundProduct="-",this.productName="-"},foundProduct:function(t){this.isScanning=!1,this.product=t.data,this.debugMode&&console.log(t.data),this.productFound=!0},handleClosing:function(){this.productFound=!1,this.product={}},showProductError:function(){var t=this;this.productNotFound=!0,setTimeout(function(){t.productNotFound=!1},3e3)},showCameraError:function(){var t=this;this.hasError=!0,setTimeout(function(){t.hasError=!1},3e3)},changeToDebugMode:function(){var t=this;this.debugMode?(this.debugMode=!1,this.debugDeactivated=!0,setTimeout(function(){return t.debugDeactivated=!1},3e3)):(this.debugMode=!0,this.debugActivated=!0,setTimeout(function(){return t.debugActivated=!1},3e3))},showSavedProducts:function(){}}},y={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-app",{attrs:{id:"inspire",light:""}},[o("v-toolbar",{attrs:{app:"",fixed:"","clipped-left":""}},[o("v-toolbar-title",{on:{dblclick:function(e){t.changeToDebugMode()}}},[t._v("BarcodeFoodInfo")]),t._v(" "),t.debugMode?[o("v-toolbar-title",[t._v("(developer mode) ")]),t._v(" "),o("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[o("v-text-field",{staticStyle:{"margin-left":"5vw"},attrs:{label:"Barcode",placeholder:"Type your Barcode here",box:""},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.handleDetectedCode(t.alterNativeInput)}},model:{value:t.alterNativeInput,callback:function(e){t.alterNativeInput=e},expression:"alterNativeInput"}})],1)]:t._e(),t._v(" "),t.showSavedProducts?t._e():[o("v-btn",{attrs:{flat:"",color:"success"},on:{click:function(e){t.showSavedProducts=!t.showSavedProducts}}},[t._v("Saved Products")])],t._v(" "),t.showSavedProducts?[o("v-btn",{attrs:{flat:"",color:"error"},on:{click:function(e){t.showSavedProducts=!t.showSavedProducts}}},[t._v("Close")])]:t._e(),t._v(" "),t.isScanning?[o("v-btn",{attrs:{color:"error"},on:{click:function(e){t.isScanning=!t.isScanning}}},[t._v("Stop Scanning")])]:t._e()],2),t._v(" "),o("v-content",[o("v-alert",{attrs:{value:t.hasError,type:"error"}},[t._v("\n      No camera found\n    ")]),t._v(" "),o("v-alert",{attrs:{value:t.debugActivated,type:"success"}},[t._v("\n      Debug Mode activated\n    ")]),t._v(" "),o("v-alert",{attrs:{value:t.debugDeactivated,type:"error"}},[t._v("\n      Debug Mode deactivated\n    ")]),t._v(" "),o("v-alert",{attrs:{value:t.productNotFound,type:"error"}},[t._v("\n      No product found\n    ")]),t._v(" "),t.isScanning?o("div",[o("scanner",{on:{codeDetected:t.handleDetectedCode}})],1):o("div",[t.productFound?[o("product",{attrs:{product:t.product},on:{closeProductInfo:t.handleClosing}})]:o("div",[t.showSavedProducts?[o("savedproductlist")]:[o("v-jumbotron",[o("v-container",{attrs:{"fill-height":""}},[o("v-layout",{attrs:{"align-center":""}},[o("v-flex",[o("h3",{staticClass:"display-2"},[t._v("Track your Food & Drinks")]),t._v(" "),o("span",{staticClass:"subheading"},[t._v("\n                    Check out the repository on "),o("a",{attrs:{href:"https://github.com/devilsdev/barcodefoodinfo"}},[t._v("GitHub")])]),t._v(" "),o("v-divider",{staticClass:"my-3"}),t._v(" "),o("div",{staticClass:"title mb-3"},[t._v("\n                    With BarcodeFoodInfo you can get information about any* food/drink that has a barcode on it."),o("br"),o("br"),t._v("\n                    1. Start by clicking on the 'SCAN' Button "),o("br"),t._v("\n                    2. Scan your Barcode "),o("br"),t._v("\n                    3. The App shows you information about the scanned product\n                  ")]),t._v(" "),o("v-btn",{attrs:{color:"info"},on:{click:t.checkForCamera}},[t._v("Scan")])],1)],1)],1)],1)]],2)],2)],1),t._v(" "),o("v-footer",{attrs:{app:"",fixed:""}},[o("span",[t._v("Â© devilsdev 2018 - "),o("a",{attrs:{href:"http://github.com/devilsdev"}},[t._v("github.com/devilsdev")])])])],1)},staticRenderFns:[]};var k=o("VU/8")(P,y,!1,function(t){o("j59o")},null,null).exports,w=o("/ocq");n.default.use(w.a);var C=new w.a({routes:[{path:"/",name:"Scanner",component:s},{path:"/",name:"Product",component:p}]}),I=o("8+8L"),F=o("3EgV"),N=o.n(F);o("7zck");n.default.use(N.a),n.default.use(I.a),n.default.config.productionTip=!1,new n.default({el:"#app",router:C,components:{App:k},template:"<App/>"})},"Vu4/":function(t,e){},j59o:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.5980e4a596aa47aedcd8.js.map